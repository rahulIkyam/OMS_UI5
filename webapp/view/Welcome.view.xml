<mvc:View
    controllerName="oms1.controller.Welcome"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:tnt="sap.tnt"
    xmlns:f="sap.f"
    displayBlock="true">
    
    <tnt:ToolPage id="_IDGenToolPage">
        <tnt:header>
            <OverflowToolbar id="_IDGenOverflowToolbar1">
                <Button id="_IDGenButton2" icon="sap-icon://menu2" press=".onToggleSidebar"/>
                <Title id="_IDGenTitle1" text="Welcome, {/userId}!"/>
                <ToolbarSpacer id="_IDGenToolbarSpacer"/>
                <Text id="_IDGenText6" text="Role: {/role}" class="sapUiTinyMarginEnd"/>
                <Button id="_IDGenButton1" 
                    text="Logout" 
                    press=".onBackToLogin"
                    type="Reject"
                    class="sapUiSmallMarginBegin"/>
            </OverflowToolbar>
        </tnt:header>

        <tnt:sideContent>
            <tnt:SideNavigation id="_IDGenSideNav">
                <tnt:NavigationList id="_IDGenNavigationList">
                    <tnt:NavigationListItem 
                        id="dashboardItem"
                        text="Dashboard"
                        icon="sap-icon://home"
                        select=".onNavItemSelect"/>
                    <tnt:NavigationListItem 
                        id="ordersItem"
                        text="My Orders"
                        icon="sap-icon://sales-order"
                        select=".onNavItemSelect"/>
                    <tnt:NavigationListItem 
                        id="profileItem"
                        text="My Profile"
                        icon="sap-icon://customer"
                        select=".onNavItemSelect"/>
                    <tnt:NavigationListItem 
                        id="reportsItem"
                        text="Reports"
                        icon="sap-icon://business-objects-experience"
                        select=".onNavItemSelect"/>
                </tnt:NavigationList>
            </tnt:SideNavigation>
        </tnt:sideContent>

        <tnt:mainContents>
            <Page id="_IDGenPage1" showHeader="false">
                <content>
                    <!-- Dashboard Content -->
                    <VBox id="dashboardContent" visible="{= ${viewModel>/currentPage} === 'dashboard'}">
                        <Text id="_IDGenText3" text="Welcome, {/userId}!" class="sapUiLargeMarginBottom"/>
                        <Text id="_IDGenText4" text="You successfully logged in with these credentials:"/>
                        <Text id="_IDGenText5" text="Company: {/company}" class="sapUiTinyMarginTop"/>
                        <Text id="_IDGenText7" text="Role: {/role}" class="sapUiTinyMarginTop"/>
                    </VBox>
                    
                    <!-- Orders Content -->
                    <VBox id="ordersContent" visible="{= ${viewModel>/currentPage} === 'orders'}" width="100%">
                        <Text id="_IDGenText8" text="My Orders will be displayed here" class="sapUiLargeMarginBottom"/>
                        
                        <Table 
                        id="ordersTable"
                        inset="false"
                        items="{
                            path: 'viewModel>/orderData'
                            }"
                        mode="SingleSelectMaster"
                        selectionChange=".onOrderSelected">
                            <headerToolbar>
                                <OverflowToolbar id="_IDGenOverflowToolbar2">
                                    <Title id="_IDGenTitle2" text="My Orders" level="H2"/>
                                    <ToolbarSpacer id="_IDGenToolbarSpacer1"/>
                                    <!-- <Button id="_IDGenButton3" icon="sap-icon://refresh" press="._loadOrderData"/> -->
                                </OverflowToolbar>
                            </headerToolbar>
                            <columns>
                                <Column id="_IDGenColumn1" width="12em">
                                    <Text id="_IDGenText2" text="Order ID"/>
                                </Column>
                                <Column id="_IDGenColumn2">
                                    <Text id="_IDGenText11" text="Contact Person"/>
                                </Column>
                                <Column id="_IDGenColumn3">
                                    <Text id="_IDGenText12" text="Order Date"/>
                                </Column>
                                <Column id="_IDGenColumn4">
                                    <Text id="_IDGenText13" text="Total Amount"/>
                                </Column>
                                <Column id="_IDGenColumn5">
                                    <Text id="_IDGenText14" text="Status"/>
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem id="_IDGenColumnListItem">
                                    <cells>
                                        <Text id="_IDGenText16" text="{viewModel>orderId}"/>
                                        <Text id="_IDGenText17" text="{viewModel>contactPerson}"/>
                                        <Text id="_IDGenText18" text="{viewModel>orderDate}"/>
                                        <Text id="_IDGenText19"  text="{viewModel>total}"/>
                                        <Text id="_IDGenText20"  text="{viewModel>status}"/>
                                        <!-- <ObjectNumber id="_IDGenObjectNumber1"
                                            number="{
                                                parts: [{path: 'viewModel>total'}],
                                                type: 'sap.ui.model.type.Currency',
                                                formatOptions: {
                                                    showMeasure: false
                                                }
                                            }"
                                            unit="INR"/>
                                        <ObjectStatus id="_IDGenObjectStatus"
                                            text="{viewModel>status}"
                                            state="{
                                                path: 'viewModel>status',
                                                formatter: '.formatStatusState'
                                            }"/> -->
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </VBox>
                    
                    <!-- Profile Content -->
                    <VBox id="profileContent" visible="{= ${viewModel>/currentPage} === 'profile'}">
                        <Text id="_IDGenText9" text="My Profile will be displayed here" class="sapUiLargeMarginBottom"/>
                        <!-- Add your profile content here -->
                    </VBox>
                    
                    <!-- Reports Content -->
                    <VBox id="reportsContent" visible="{= ${viewModel>/currentPage} === 'reports'}">
                        <Text id="_IDGenText10" text="Reports will be displayed here" class="sapUiLargeMarginBottom"/>
                        <!-- Add your reports content here -->
                    </VBox>
                </content>
            </Page>
        </tnt:mainContents>
    </tnt:ToolPage>
</mvc:View>